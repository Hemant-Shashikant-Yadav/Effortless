<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Effortless - Technical</title>
        <link rel="stylesheet" href="../../styles.css" />
        <link rel="stylesheet" href="../docs.css" />
        <link rel="stylesheet" href="technical.css" />
        <script src="../../templating.js"></script>
        <link rel="icon" type="image/png" href="../../favicon.ico" />
        <script src="../docs.js" type="module"></script>
        <script src="technical.js" type="module"></script>
    </head>
    <body>
        <main>
            <h1 class="technical-title">EffortlessConfig</h1>
            <p class="object-description">
                EffortlessConfig is the configuration class for EffortlessDB. It
                holds various configuration options for an EffortlessDB
                instance.
            </p>
            <h3 class="prop-header">Properties</h3>
            <div class="properties-container">
                <div class="property">
                    <h4 class="prop-subheader" prop-type="list">
                        required_fields
                    </h4>
                    <p class="prop-description">
                        Require fields for each entry in the DB.
                    </p>
                    <!-- prettier-ignore -->
                    <div class="command python example-usage">
                        config = EffortlessConfig(required_fields=["id"])
                        db.configure(config)
                        db.add({}) # Error: Field 'id' is required
                    </div>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="string">
                        backup_path
                    </h4>
                    <p class="prop-description">
                        Make the database automatically back up to the specified
                        path.
                    </p>
                    <!-- prettier-ignore -->
                    <div class="command python example-usage">
                        config = EffortlessConfig(backup="/folder/backups/")
                        db.configure(config)
                        db.add({"data": True})
                        print(os.path.exists("/folder/backups/db.effortless"))
                        True
                    </div>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="int">
                        backup_interval
                    </h4>
                    <p class="prop-description">
                        Set the number of operations that occurs before each
                        backup. Backups occur every after operation by default,
                        but can be spaced out to improve performance.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="int">max_size</h4>
                    <p class="prop-description">
                        Set the maximum size of the database in MB. Any changes
                        to the database that would make it exceed this size will
                        fail. There is no limit by default.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="bool">readonly</h4>
                    <p class="prop-description">
                        Set the database to read-only mode. In this mode, the
                        entries of the database cannot be modified, but the
                        configuration can be, so this change is revertable.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="bool">compressed</h4>
                    <p class="prop-description">
                        Set whether or not the database should be compressed.
                        You may want to compress the database to conserve space,
                        but it will take more time to read/write to it.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="bool">debug</h4>
                    <p class="prop-description">
                        Enable debug mode for verbose output. Defaults to False.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="bool">encrypted</h4>
                    <p class="prop-description">
                        Set whether or not the database should be encrypted or
                        not. You will need to specify a key to encrypt and
                        decrypt the database, but this feature is not
                        implemented yet.
                    </p>
                </div>
                <div class="property">
                    <h4 class="prop-subheader" prop-type="string">version</h4>
                    <p class="prop-description">
                        The internal version of the database. This is used for
                        automatic migration between versions of Effortless.
                    </p>
                </div>
            </div>
            <h2 class="method-header">Methods</h2>
            <div class="methods-container">
                <div class="method">
                    <h4 class="method-subheader" method-parameters="properties">
                        __init__
                    </h4>
                    <p class="method-description">
                        Creates an EffortlessConfig with any specified
                        configuration options.
                    </p>
                    <!-- prettier-ignore -->
                    <div class="command python example-usage">
                        config = EffortlessConfig(compressed=True, required_field=["name"])
                    </div>
                </div>
                <div class="method">
                    <h4 class="method-subheader" method-returns="dict">
                        to_dict
                    </h4>
                    <p class="method-description">
                        Converts the configuration to a dictionary
                        representation. You can use this to save a config or
                        edit a config as a dict before re-applying it.
                    </p>
                    <!-- prettier-ignore -->
                    <div class="command python example-usage">
                        config_dict = config.to_dict()
                        for opt in config_dict:
                        â€Ž   ...
                    </div>
                </div>
                <div class="method">
                    <h4
                        class="method-subheader"
                        at="classmethod"
                        method-returns="EffortlessConfig"
                    >
                        from_dict
                    </h4>
                    <p class="method-description">
                        Converts a dictionary into an EffortlessConfig object.
                    </p>
                    <!-- prettier-ignore -->
                    <div class="command python example-usage">
                        config = EffortlessConfig.from_dict({"readonly": True})
                    </div>
                </div>
                <div class="method">
                    <h4
                        class="method-subheader"
                        method-parameters="db: EffortlessDB"
                    >
                        validate_db
                    </h4>
                    <p class="method-description">
                        Checks if the given database follows the configured
                        rules. Raises ValueError if anything doesn't follow.
                        This must pass for a new configuration to be applied to
                        a database.
                    </p>
                </div>
            </div>
            <div class="button-container">
                <a href="db.html" class="tab tab-back">EffortlessDB</a>
                <a href="fields.html" class="tab tab-forward">Fields</a>
            </div>
        </main>
    </body>
</html>
